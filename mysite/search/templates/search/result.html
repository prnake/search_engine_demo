{% extends 'base.html' %}
{% load static %}
{% block main_block %}
    <main>
        <div class="container">
            <p>Find {{ posts|length }} results in {{ load_time }} s, currently at page {{ posts.number }} / {{ paginator.num_pages }}.<br></p>
            {% for post in posts.object_list %}
            <div class="post-container {% if forloop.counter|divisibleby:2 %}post-list-thumb-left{% endif %} }}">
                <div class="post-thumb"><a href="#"><img src="../static/img/SAST.png"></a></div>
                <div class="post-content">
                    <a href="#">
                        <h1 class="post-title"><a href="/detail/{{ post.id }}">{{ post.title }}</a></h1>
                    </a>
                    <p class="post-abstract">{{ post.introduction|slice:"125" }}{% if post.introduction|length > 100 %}......{% endif %}</p>
                </div>
            </div>
            {% endfor %}
            <p style="text-align: center">
                {% if posts.has_previous %}
                    <a href="?q={{ keywords }}&page={{ posts.previous_page_number }}">上一页</a>
                {% endif %}
                <span>第{{ posts.number }}页 | 共{{ paginator.num_pages }}页</span>
                {% if posts.has_next %}
                    <a href="?q={{ keywords }}&page={{ posts.next_page_number }}">下一页</a>
                {% endif %}
            </p>
        </div>
    </main>
{% endblock main_block %}
